import type { FormEntry } from "./types";
import Axios from "../../axios";
import {
    good,
    StudentTeachingFeedbackFormField as v,
} from "../../zod/Forms/StudentTeachingFeedbackForm";
import { options } from "../../zod";

const StudentTeachingFeedbackForm: FormEntry[] = [
    {
        title: "Email",
        name: "email_id",
        type: "email",
        required: true,
        validator: v.email_id,
        page: 1,
        fieldsPerLine: 2,
    },
    {
        title: "Batch Year",
        name: "student_batch_year",
        type: "text",
        required: true,
        validator: v.student_batch_year,
        page: 1,
        fieldsPerLine: 2,
    },
    {
        title: "Class / Division",
        name: "student_class_and_division",
        type: "text",
        required: true,
        validator: v.student_class_and_division,
        page: 1,
        fieldsPerLine: 1,
    },
    {
        title: "Name of the teacher to be evaluated",
        name: "teacher_name",
        type: "dropdown",
        dropOpt: "multiple",
        dropdownHiddenItem: "Select Name of the Nominee",
        required: true,
        validator: v.teacher_name,
        options: [],
        page: 2,
        fieldsPerLine: 2,
    },
    {
        title: "Designation",
        name: "teacher_designation",
        type: "text",
        required: true,
        validator: v.teacher_designation,
        page: 2,
        fieldsPerLine: 2,
    },
    {
        title: "Subject Taught",
        name: "teaching_subject",
        type: "text",
        required: true,
        validator: v.teaching_subject,
        page: 2,
        fieldsPerLine: 1,
    },
    {
        title: "Knowledge base of the teacher (as perceived by you)",
        type: "radio",
        required: true,
        name: "q_01",
        validator: v.q_01,
        options: good,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Communication skills (in terms of articulation and comprehensibility)",
        type: "radio",
        required: true,
        name: "q_02",
        validator: v.q_02,
        options: good,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Sincerity/ Commitment of the teacher",
        type: "radio",
        required: true,
        name: "q_03",
        validator: v.q_03,
        options: options,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Punctuality of the teacher (whether the class starts on time)",
        type: "radio",
        required: true,
        name: "q_04",
        validator: v.q_04,
        options: options,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Interest generated by the teacher",
        type: "radio",
        required: true,
        name: "q_05",
        validator: v.q_05,
        options: options,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Ability to integrate course material with environment/other issues, to provide a broader perspective",
        type: "radio",
        required: true,
        name: "q_06",
        validator: v.q_06,
        options: good,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Ability to integrate content with other courses",
        type: "radio",
        required: true,
        name: "q_07",
        validator: v.q_07,
        options: good,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Accessibility of the teacher in and out of the class (includes availability of the teacher to motivate further study and discussion outside class)",
        type: "radio",
        required: true,
        name: "q_08",
        validator: v.q_08,
        options: options,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Ability to design quizzes/tests/assignments/examinations and projects to evaluate students understanding of the course",
        type: "radio",
        required: true,
        name: "q_09",
        validator: v.q_09,
        options: good,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Does the teacher use I.C.T",
        type: "radio",
        required: true,
        name: "q_10",
        validator: v.q_10,
        options: ["Yes", "No"] as const,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Overall rating ",
        type: "radio",
        required: true,
        name: "q_11",
        validator: v.q_11,
        options: good,
        page: 3,
        fieldsPerLine: 1,
    },
    {
        title: "Give 3 reasons for nominating the teacher for the award (300 words max)",
        type: "textarea",
        required: true,
        name: "nominating_reasons",
        validator: v.nominating_reasons,
        page: 4,
        fieldsPerLine: 1,
    },
];

async function fetchNominatedNames() {
    try {
        const response = await Axios.get("/ieac/data/nominated-faculty-names", {
            headers: {
                "x-institute-name": localStorage.getItem("institution"),
            },
        });
        const nominatedNames = response.data.data;
        StudentTeachingFeedbackForm.find(
            (field) => field.name === "teacher_name"
        ).options = nominatedNames;
    } catch (error) {}
}

fetchNominatedNames();

export default StudentTeachingFeedbackForm;
